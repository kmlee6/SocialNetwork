<nav class="navbar flex-column navbar-dark bg-dark text-white sticky-top">
	<ul class="nav nav-pills nav-fill">
		<li class="nav-item">
<!-- 			<img width="40" alt="Angular Logo" src="data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCAyNTAgMjUwIj4KICAgIDxwYXRoIGZpbGw9IiNERDAwMzEiIGQ9Ik0xMjUgMzBMMzEuOSA2My4ybDE0LjIgMTIzLjFMMTI1IDIzMGw3OC45LTQzLjcgMTQuMi0xMjMuMXoiIC8+CiAgICA8cGF0aCBmaWxsPSIjQzMwMDJGIiBkPSJNMTI1IDMwdjIyLjItLjFWMjMwbDc4LjktNDMuNyAxNC4yLTEyMy4xTDEyNSAzMHoiIC8+CiAgICA8cGF0aCAgZmlsbD0iI0ZGRkZGRiIgZD0iTTEyNSA1Mi4xTDY2LjggMTgyLjZoMjEuN2wxMS43LTI5LjJoNDkuNGwxMS43IDI5LjJIMTgzTDEyNSA1Mi4xem0xNyA4My4zaC0zNGwxNy00MC45IDE3IDQwLjl6IiAvPgogIDwvc3ZnPg=="> -->
		</li>
		<li class="nav-item" (click)="navigate(1)" (mouseover)="hover0=true" (mouseleave)="hover0=false">
			<div class="nav-link" [style.color]="hover0?'green':'white'">List All Events</div>
		</li>
		<li class="nav-item" (click)="navigate(2)" (mouseover)="hover1=true" (mouseleave)="hover1=false">
			<div class="nav-link" [style.color]="hover1?'green':'white'">Search Events</div>
		</li>
		<li class="nav-item" (click)="navigate(3)" (mouseover)="hover2=true" (mouseleave)="hover2=false">
			<div class="nav-link" [style.color]="hover2?'green':'white'">Favourite Events</div>
		</li>
		<li class="nav-item" [style.display]="loginFlag?'unset':'none'" (click)="logout()" (mouseover)="hover3=true" (mouseleave)="hover3=false">
			<div class="nav-link" [style.color]="hover3?'green':'white'">Logout</div>
		</li>
		<li class="nav-item bg-light" [style.display]="loginFlag?'unset':'none'"><div class="nav-link font-weight-bold" style="color: rgb(75, 207, 58) ">{{ username }}</div></li>
	</ul>
</nav>

<div [style.display]="first?'unset':'none'">
	<section class='block container'>
		<div class='col-md-4'>
			<h2 class='text-center'>LOGIN NOW</h2>
			<form class='login-form'>
				<div class='form-group'>
					<label>USERNAME</label>
					<input #inputUsername type='text' class='form-control' placeholder="username">
				</div>
				<div class='form-group'>
					<label>PASSWORD</label>
					<input #inputPassword type='password' class='form-control'>
				</div>
			</form>
		</div>
		<button class='btn' style='float: right;' (click)='login(inputUsername.value, inputPassword.value)'>Login</button>
	</section>
</div>

<div [style.display]="show_e?'unset':'none'">
	<table class="table table-striped table-bordered table-dark table-responsive-sm">
		<thead>
			<tr>
				<th (click)='sortEvents("eid")'>ID</th>
				<th (click)='sortEvents("name")'>Program Name</th>
				<th (click)='sortEvents("datetime")'>Datetime</th>
				<th (click)='sortEvents("quota")'>quota</th>
				<th (click)='sortEvents("location")'>Location</th>
				<th (click)='sortEvents("type")'>Type</th>
				<th>Add to favourite</th>
			</tr>
		</thead>
		<tbody>
				<tr *ngFor="let event of eventsList; let i = index">
					<td (click)='showEventDetail(event)'>
						{{event.eid}}
					</td>
					<td (click)='showEventDetail(event)'>
						{{event.name}}
					</td>
					<td (click)='showEventDetail(event)'>
						{{event.datetime}}
					</td>
					<td (click)='showEventDetail(event)'>
						{{event.quota}}
					</td>
					<td (click)='showEventDetail(event)'>
						{{event.location}}
					</td>
					<td (click)='showEventDetail(event)'>
						{{event.type}}
					</td>
					<td>
						<button class="btn btn-sm" (click)='addEventToFavourite(event)'>
							+
						</button>
					</td>
				</tr>
			</tbody>
	</table>
</div>

<div [style.display]="search_e?'unset':'none'">
	<div class="row">
<div class="dropdown">
  <button class="btn btn-secondary dropdown-toggle" type="button" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    Dropdown button
  </button>
  <div class="dropdown-menu" aria-labelledby="dropdownMenuButton">
    <a class="dropdown-item" href="#">Action</a>
    <a class="dropdown-item" href="#">Another action</a>
    <a class="dropdown-item" href="#">Something else here</a>
  </div>
</div>
		<div class="dropdown col-sm col-md-6" style="float:left;">
			<div class="dropbtn">Searching In {{ searchField }}:</div>
			<div class="dropdown-content" >
				<div style='border-bottom: 6px solid green' (click)='searchField="eid"'>
					ID
				</div>
				<div style='border-bottom: 6px solid green' (click)='searchField="name"'>
					Program Name
				</div>
				<div style='border-bottom: 6px solid green' (click)='searchField="datetime"'>
					Datetime
				</div>
				<div style='border-bottom: 6px solid green' (click)='searchField="quota"'>
					Quota
				</div>
				<div style='border-bottom: 6px solid green' (click)='searchField="location"'>
					Location
				</div>
				<div style='border-bottom: 6px solid green' (click)='searchField="type"'>
					Type
				</div>
			</div>
		</div>
		<div class="dropdown col-sm col-md-6" style="float:left;">
			<div class='dropbtn'>
				By: {{ keyword }}
				<div>
					<input placeholder='type keyword here~' type="text" class="dropdown-content form-control" style="max-width: 40%; left: 0" (input)='inputKeyword($event)'>
				</div>
			</div>
		</div>
	</div>
	<div style='float: right; '>
		<button class='btn' style='color: white; background-color: rgb(63, 143, 65);' (click)='search()'>
			Search!
		</button>
	</div>
	<table class="table table-striped table-bordered table-dark table-responsive-sm">
		<thead>
			<tr>
				<th (click)='sortEvents("eid")'>ID</th>
				<th (click)='sortEvents("name")'>Program Name</th>
				<th (click)='sortEvents("datetime")'>Datetime</th>
				<th (click)='sortEvents("quota")'>quota</th>
				<th (click)='sortEvents("location")'>Location</th>
				<th (click)='sortEvents("type")'>Type</th>
				<th>Add to favourite</th>
			</tr>
		</thead>
		<tbody>
			<tr *ngFor="let event of resultEventsList; let i = index">
				<td (click)='showEventDetail(event)'>
					{{event.eid}}
				</td>
				<td (click)='showEventDetail(event)'>
					{{event.name}}
				</td>
				<td>
					{{event.datetime}}
				</td>
				<td>
					{{event.quota}}
				</td>
				<td>
					{{event.location}}
				</td>
				<td>
					{{event.type}}
				</td>
				<td>
					<button class="btn btn-sm" (click)='addEventToFavourite(event)'>
						+
					</button>
				</td>
			</tr>
		</tbody>
	</table>
</div>

<div [style.display]="show_f?'unset':'none'">
	<table class="table table-striped table-bordered table-dark table-responsive-sm">
			<thead>
				<tr>
					<th>ID</th>
					<th>Program Name</th>
					<th>Datetime</th>
					<th>quota</th>
					<th>Location</th>
					<th>Type</th>
				</tr>
			</thead>
			<tbody>
					<tr *ngFor="let event of favouriteEventsList; let i = index">
						<td (click)='showEventDetail(event)'>
							{{event.eid}}
						</td>
						<td (click)='showEventDetail(event)'>
							{{event.name}}
						</td>
						<td>
							{{event.datetime}}
						</td>
						<td>
							{{event.quota}}
						</td>
						<td>
							{{event.location}}
						</td>
						<td>
							{{event.type}}
						</td>
					</tr>
				</tbody>
		</table>
</div>

<div [style.display]="show_e_d?'unset':'none'">
	<table class="table table-striped table-bordered table-dark table-responsive-sm">
		<thead>
			<tr>
				<th>ID</th>
				<th>Program Name</th>
				<th>Datetime</th>
				<th>quota</th>
				<th>Location</th>
				<th>Type</th>
				<th>Add to favourite</th>
			</tr>
		</thead>
		<tbody>
				<tr>
					<td>
						{{focusedEvent.eid}}
					</td>
					<td>
						{{focusedEvent.name}}
					</td>
					<td>
						{{focusedEvent.datetime}}
					</td>
					<td>
						{{focusedEvent.quota}}
					</td>
					<td>
						{{focusedEvent.location}}
					</td>
					<td>
						{{focusedEvent.type}}
					</td>
					<td>
						<button class="btn btn-sm" (click)='addEventToFavourite(event)'>
							+
						</button>
					</td>
				</tr>
			</tbody>
	</table>
	<table class="table table-striped table-bordered table-dark table-responsive-sm">
		<thead>
			<tr>
				<th>Username</th>
				<th>Post Datetime</th>
				<th>Comment</th>
			</tr>
		</thead>
		<tbody>
			<tr *ngFor="let comment of focusedEventComments; let i = index">
				<td>
					{{comment.username}}
				</td>
				<td>
					{{comment.datetime}}
				</td>
				<td>
					{{comment.content}}
				</td>
			</tr>
		</tbody>
	</table>
	<!-- add comment form -->
	<table class="table table-striped table-dark table-responsive-sm">
		<thead>
			<tr>
				<th>Add Comment</th>
			</tr>
		</thead>
		<tbody>
			<tr>
				<td>
					<textarea #commentContent class="form-control" rows='5' placeholder="write your comment here~"></textarea>
				</td>
				<td>
					<button class='btn' style='color: white; background-color: rgb(32, 32, 32);' (click)='pushComment(commentContent.value)'>
						Post
					</button>
				</td>
			</tr>
		</tbody>
	</table>
</div>